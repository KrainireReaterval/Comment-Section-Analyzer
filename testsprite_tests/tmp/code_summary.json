{
  "tech_stack": [
    "Python 3.x",
    "Flask (Web Framework)",
    "Flask-SQLAlchemy (ORM)",
    "Flask-CORS",
    "SQLite (Database)",
    "Redis (Task Queue)",
    "YouTube Data API v3",
    "OpenAI API (GPT for AI Analysis)",
    "TextBlob/NLTK (Sentiment Analysis)",
    "HTML",
    "JavaScript (Vanilla)",
    "Tailwind CSS",
    "Chart.js"
  ],
  "features": [
    {
      "name": "Health Check API",
      "description": "Check if the API server is running and healthy",
      "files": ["backend/app/routes/api.py"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/health": {
            "get": {
              "summary": "Health check endpoint",
              "description": "Returns the status of the API server",
              "responses": {
                "200": {
                  "description": "Server is healthy",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "status": {"type": "string", "example": "ok"},
                          "message": {"type": "string", "example": "YouTube Comment Analyzer API is running"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Analyze Video API",
      "description": "Complete video analysis workflow: scrape video info and comments, perform sentiment analysis, extract AI topics, categorize labels, analyze time trends, and calculate controversy rate",
      "files": ["backend/app/routes/api.py", "backend/app/services/youtube_scraper.py", "backend/app/services/sentiment_analyzer.py", "backend/app/services/ai_analyzer.py", "backend/app/models/database.py"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/analyze": {
            "post": {
              "summary": "Analyze a YouTube video",
              "description": "Scrapes comments from a YouTube video and performs comprehensive analysis",
              "requestBody": {
                "required": true,
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "required": ["video_url"],
                      "properties": {
                        "video_url": {"type": "string", "example": "https://www.youtube.com/watch?v=dQw4w9WgXcQ"},
                        "max_comments": {"type": "integer", "default": 1000, "maximum": 10000}
                      }
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Analysis completed",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "status": {"type": "string"},
                          "message": {"type": "string"},
                          "video_id": {"type": "string"},
                          "total_comments": {"type": "integer"}
                        }
                      }
                    }
                  }
                },
                "400": {"description": "Bad request"},
                "404": {"description": "Video not found"},
                "500": {"description": "Internal server error"}
              }
            }
          }
        }
      }
    },
    {
      "name": "Get Video Report API",
      "description": "Retrieve complete analysis report for a video including basic info, overall vibe, topic analysis, time trends, and visualization data",
      "files": ["backend/app/routes/api.py", "backend/app/services/trend_analyzer.py", "backend/app/models/database.py"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/video/{video_id}/report": {
            "get": {
              "summary": "Get video analysis report",
              "parameters": [
                {
                  "name": "video_id",
                  "in": "path",
                  "required": true,
                  "schema": {"type": "string"}
                }
              ],
              "responses": {
                "200": {
                  "description": "Report retrieved",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "video": {"type": "object"},
                          "summary": {"type": "object"},
                          "topics": {"type": "array"},
                          "time_trends": {"type": "object"},
                          "comments_sample": {"type": "array"}
                        }
                      }
                    }
                  }
                },
                "404": {"description": "Video not found"}
              }
            }
          }
        }
      }
    },
    {
      "name": "Get All Videos API",
      "description": "Retrieve list of all analyzed videos ordered by creation date",
      "files": ["backend/app/routes/api.py", "backend/app/models/database.py"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/videos": {
            "get": {
              "summary": "Get all analyzed videos",
              "responses": {
                "200": {
                  "description": "List of videos",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "total": {"type": "integer"},
                          "videos": {"type": "array"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Get Controversy Statistics API",
      "description": "Get controversy statistics for a video, including comments with high reply counts (>100 replies)",
      "files": ["backend/app/routes/api.py", "backend/app/models/database.py", "backend/config.py"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/video/{video_id}/controversy": {
            "get": {
              "summary": "Get controversy statistics",
              "parameters": [
                {
                  "name": "video_id",
                  "in": "path",
                  "required": true,
                  "schema": {"type": "string"}
                }
              ],
              "responses": {
                "200": {
                  "description": "Controversy stats",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "video_id": {"type": "string"},
                          "total_comments": {"type": "integer"},
                          "high_reply_comments_count": {"type": "integer"},
                          "controversy_rate": {"type": "number"},
                          "threshold": {"type": "integer"},
                          "high_reply_comments": {"type": "array"}
                        }
                      }
                    }
                  }
                },
                "404": {"description": "Video not found"}
              }
            }
          }
        }
      }
    }
  ]
}